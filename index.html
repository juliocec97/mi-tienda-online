<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tu Tienda Online - Productos Increíbles</title>
    <meta name="description" content="Descubre nuestra selección de productos únicos y de alta calidad. Envío rápido y excelente atención al cliente.">
    <link rel="canonical" href="https://tutiendaonline.com/"> <!-- Cambia esto a la URL de tu sitio -->

    <!-- Carga de Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos personalizados para la fuente Inter y el desplazamiento suave */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth; /* Para desplazamiento suave a secciones */
        }
        /* Estilos para el botón flotante de WhatsApp */
        .whatsapp-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #25D366; /* Color de WhatsApp */
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease-in-out, background-color 0.3s ease;
            z-index: 1000;
        }
        .whatsapp-button:hover {
            transform: scale(1.1);
            background-color: #1DA851;
        }
        /* Estilos para ocultar imágenes antes de lazy loading */
        img:not([src]) {
            visibility: hidden;
        }
        img[data-src] {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        img.loaded {
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Encabezado de la página -->
    <header class="bg-white shadow-md py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-indigo-600 hover:text-indigo-800 transition-colors">Tu Tienda Online</a>
            <nav>
                <ul class="flex space-x-4">
                    <li><a href="#productos" class="text-gray-700 hover:text-indigo-600 font-medium transition-colors">Productos</a></li>
                    <li><a href="#contacto" class="text-gray-700 hover:text-indigo-600 font-medium transition-colors">Contacto</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Sección principal - Hero o Banner -->
    <section class="bg-indigo-700 text-white py-20 text-center rounded-b-lg shadow-lg">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl md:text-5xl font-extrabold mb-4 leading-tight">Encuentra lo que necesitas y más</h1>
            <p class="text-xl md:text-2xl mb-8 opacity-90">Descubre nuestra exclusiva colección de productos de alta calidad.</p>
            <a href="#productos" class="bg-white text-indigo-700 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-gray-100 transition-all transform hover:scale-105">Explorar Productos</a>
        </div>
    </section>

    <!-- Galería de Productos -->
    <section id="productos" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Nuestros Productos Destacados</h2>
            <div id="product-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Los productos se cargarán aquí dinámicamente con JavaScript -->
            </div>
        </div>
    </section>

    <!-- Sección de Contacto -->
    <section id="contacto" class="py-16 bg-gray-100 rounded-t-lg shadow-lg">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-3xl font-bold text-gray-800 mb-8">Contáctanos</h2>
            <p class="text-lg text-gray-700 mb-8 max-w-2xl mx-auto">¿Tienes preguntas sobre nuestros productos o necesitas ayuda? No dudes en contactarnos a través de WhatsApp para una atención rápida y personalizada.</p>
            <a href="https://wa.me/TUNUMEROTELEFONO?text=Hola,%20me%20gustaría%20saber%20más%20sobre%20sus%20productos." target="_blank" class="bg-green-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-green-600 transition-all transform hover:scale-105 inline-flex items-center">
                <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.524-3.871-1.524-5.962C.22 6.944 6.953.22 15.01.22c4.084 0 7.821 1.517 10.665 4.364 2.842 2.845 4.364 6.579 4.364 10.662C30.039 23.064 23.307 29.792 15.24 29.792h-.002c-2.091 0-4.161-.482-5.965-1.524L.057 24zm14.954-20.916c-7.234 0-13.102 5.867-13.102 13.101 0 2.222.569 4.366 1.637 6.257L3.136 26.65l3.87-1.28c1.782.977 3.824 1.5 5.926 1.5 7.233 0 13.102-5.867 13.102-13.101S22.288 3.084 15.011 3.084zm4.181 12.338c-.08-.133-.277-.213-.58-.37l-1.841-.913c-.302-.15-.522-.224-.741.224s-.85.913-1.03 1.093c-.18.18-.36.2-.662.08-.302-.12-.993-.365-1.895-1.168-.7-.6-.94-1.393-.24-2.097.697-.698.835-1.026 1.03-1.221.194-.195.163-.365.048-.521-.12-.15-.58-.135-.85-.135-.27 0-.58.045-.89.448-.3.404-1.15 1.134-1.402 1.348-.25.213-.414.24-.766.08-.352-.16-.836-.31-1.597-.498-1.556-.37-2.6-.96-3.078-1.763-.478-.8-.45-1.513-.15-1.787.288-.266.645-.436.96-.65.31-.213.43-.32.645-.58.213-.26.105-.48-.05-.75-.157-.27-.478-.697-.662-.892-.18-.194-.36-.214-.66-.214h-.3c-.3 0-.795.112-1.216.556-.42.443-1.615 1.583-1.615 3.864 0 2.28 1.65 4.453 1.884 4.77 0 0 3.255 4.98 7.94 6.915 4.688 1.933 4.688 1.298 5.53 1.233.84-.067 2.443-.984 2.8-.13.36.85.24 1.57.18 1.67-.06.1-.213.18-.414.27-.2.08-.45.224-.698.224h-.001z"/></svg>
                Chatear por WhatsApp
            </a>
            <p class="text-sm text-gray-500 mt-4">No olvides reemplazar "TUNUMEROTELEFONO" con tu número.</p>
        </div>
    </section>

    <!-- Pie de página -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; <span id="current-year"></span> Tu Tienda Online. Todos los derechos reservados.</p>
            <div class="flex justify-center space-x-6 mt-4">
                <!-- Enlaces a tus redes sociales (opcional) -->
                <a href="https://facebook.com/tuperfil" target="_blank" class="text-gray-400 hover:text-white transition-colors">Facebook</a>
                <a href="https://instagram.com/tuperfil" target="_blank" class="text-gray-400 hover:text-white transition-colors">Instagram</a>
                <!-- Puedes añadir más enlaces aquí -->
            </div>
        </div>
    </footer>

    <!-- Botón flotante de WhatsApp -->
    <a href="https://wa.me/TUNUMEROTELEFONO?text=Hola,%20me%20gustaría%20saber%20más%20sobre%20sus%20productos." target="_blank" class="whatsapp-button" aria-label="Chatear por WhatsApp">
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.524-3.871-1.524-5.962C.22 6.944 6.953.22 15.01.22c4.084 0 7.821 1.517 10.665 4.364 2.842 2.845 4.364 6.579 4.364 10.662C30.039 23.064 23.307 29.792 15.24 29.792h-.002c-2.091 0-4.161-.482-5.965-1.524L.057 24zm14.954-20.916c-7.234 0-13.102 5.867-13.102 13.101 0 2.222.569 4.366 1.637 6.257L3.136 26.65l3.87-1.28c1.782.977 3.824 1.5 5.926 1.5 7.233 0 13.102-5.867 13.102-13.101S22.288 3.084 15.011 3.084zm4.181 12.338c-.08-.133-.277-.213-.58-.37l-1.841-.913c-.302-.15-.522-.224-.741.224s-.85.913-1.03 1.093c-.18.18-.36.2-.662.08-.302-.12-.993-.365-1.895-1.168-.7-.6-.94-1.393-.24-2.097.697-.698.835-1.026 1.03-1.221.194-.195.163-.365.048-.521-.12-.15-.58-.135-.85-.135-.27 0-.58.045-.89.448-.3.404-1.15 1.134-1.402 1.348-.25.213-.414.24-.766.08-.352-.16-.836-.31-1.597-.498-1.556-.37-2.6-.96-3.078-1.763-.478-.8-.45-1.513-.15-1.787.288-.266.645-.436.96-.65.31-.213.43-.32.645-.58.213-.26.105-.48-.05-.75-.157-.27-.478-.697-.662-.892-.18-.194-.36-.214-.66-.214h-.3c-.3 0-.795.112-1.216.556-.42.443-1.615 1.583-1.615 3.864 0 2.28 1.65 4.453 1.884 4.77 0 0 3.255 4.98 7.94 6.915 4.688 1.933 4.688 1.298 5.53 1.233.84-.067 2.443-.984 2.8-.13.36.85.24 1.57.18 1.67-.06.1-.213.18-.414.27-.2.08-.45.224-.698.224h-.001z"/></svg>
    </a>

    <script>
        // --- Lógica de Carga de Productos y Lazy Loading ---
        // Este script se ejecuta una vez que el contenido de la página está completamente cargado.
        document.addEventListener('DOMContentLoaded', async () => {
            // Obtener el contenedor donde se listarán los productos.
            const productListDiv = document.getElementById('product-list');
            // Definir el número de WhatsApp para los enlaces directos.
            // ¡IMPORTANTE! Reemplaza 'TUNUMEROTELEFONO' con tu número de teléfono con código de país (ej: 5351234567).
            const whatsappNumber = 'TUNUMEROTELEFONO';

            // Variable para almacenar los datos de los productos.
            let productsData = [];

            try {
                // Intentar cargar los datos de los productos desde 'products.json'.
                const response = await fetch('products.json');
                // Verificar si la respuesta de la solicitud fue exitosa (código 200 OK).
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                // Convertir la respuesta a formato JSON y asignarla a productsData.
                productsData = await response.json();
            } catch (error) {
                // Capturar y registrar cualquier error durante la carga de los datos.
                console.error('Error fetching product data:', error);
                // Mostrar un mensaje de error amigable al usuario en la interfaz.
                productListDiv.innerHTML = '<p class="text-center text-red-500">Lo sentimos, no pudimos cargar los productos en este momento. Por favor, inténtelo de nuevo más tarde.</p>';
                // Detener la ejecución del script si los productos no pueden cargarse.
                return;
            }

            // Función para renderizar (mostrar) un producto en la galería.
            const renderProduct = (product) => {
                // Crear un nuevo elemento div para la tarjeta del producto.
                const productCard = document.createElement('div');
                // Asignar el ID del producto al elemento, para permitir enlaces directos.
                productCard.id = product.id;
                // Asignar clases de Tailwind CSS para el estilo de la tarjeta del producto.
                productCard.className = 'bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden relative group';
                // Llenar el HTML interno de la tarjeta con los datos del producto.
                productCard.innerHTML = `
                    <img data-src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover object-center rounded-t-xl group-hover:scale-105 transition-transform duration-300 lazy-load">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 text-gray-900">${product.name}</h3>
                        <p class="text-gray-600 text-sm mb-4 line-clamp-3">${product.description}</p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-indigo-700">$${product.price}</span>
                            <span class="bg-indigo-100 text-indigo-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">${product.category}</span>
                        </div>
                        <a href="https://wa.me/${whatsappNumber}?text=Hola,%20me%20interesa%20el%20producto:%20${encodeURIComponent(product.name)}.%20ID:%20${product.id}" target="_blank" class="block w-full bg-indigo-600 text-white text-center py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors transform hover:scale-100">
                            Comprar por WhatsApp
                        </a>
                    </div>
                `;
                // Añadir la tarjeta del producto al contenedor de la lista de productos.
                productListDiv.appendChild(productCard);
            };

            // Recorrer el array de productos y renderizar cada uno.
            productsData.forEach(renderProduct);

            // Función para implementar el Lazy Loading de imágenes.
            const lazyLoadImages = () => {
                // Seleccionar todas las imágenes marcadas para lazy load.
                const lazyImages = document.querySelectorAll('img.lazy-load');
                // Crear un Intersection Observer.
                const observer = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        // Si la imagen está intersectando el viewport (o el rootMargin).
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            // Cargar la imagen real desde el atributo data-src.
                            img.src = img.dataset.src;
                            // Cuando la imagen se haya cargado, eliminar la clase 'lazy-load' y añadir 'loaded'.
                            img.onload = () => {
                                img.classList.remove('lazy-load');
                                img.classList.add('loaded');
                            };
                            // Dejar de observar la imagen una vez que se ha cargado.
                            observer.unobserve(img);
                        }
                    });
                }, {
                    // Cargar imágenes 200px antes de que sean visibles en el viewport.
                    rootMargin: '0px 0px 200px 0px'
                });

                // Observar cada imagen marcada para lazy load.
                lazyImages.forEach(img => {
                    observer.observe(img);
                });
            };

            // Llamar a la función de lazy loading para iniciar el proceso.
            lazyLoadImages();

            // Actualizar el año actual en el pie de página.
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // Actualizar el número de WhatsApp en el botón flotante y el enlace de contacto.
            document.querySelectorAll('.whatsapp-button, #contacto a.bg-green-500').forEach(link => {
                link.href = link.href.replace('TUNUMEROTELEFONO', whatsappNumber);
            });

            // Función para manejar el desplazamiento a un producto específico si hay un hash en la URL.
            const scrollToProduct = () => {
                // Obtener el ID del producto de la URL (ej. #producto-1).
                const productId = window.location.hash.substring(1);
                if (productId) {
                    // Buscar el elemento del producto por su ID.
                    const targetElement = document.getElementById(productId);
                    if (targetElement) {
                        // Desplazarse suavemente al producto.
                        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        // Opcional: Resaltar el producto temporalmente.
                        targetElement.classList.add('ring-4', 'ring-indigo-400', 'ring-opacity-75');
                        setTimeout(() => {
                            targetElement.classList.remove('ring-4', 'ring-indigo-400', 'ring-opacity-75');
                        }, 3000); // Eliminar el resaltado después de 3 segundos.
                    }
                }
            };

            // Llamar a la función al cargar la página para manejar enlaces directos.
            scrollToProduct();

            // Escuchar cambios en el hash de la URL (navegación a producto específico).
            window.addEventListener('hashchange', scrollToProduct);
        });
    </script>

</body>
</html>
